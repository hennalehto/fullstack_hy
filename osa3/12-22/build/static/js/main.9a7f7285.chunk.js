(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(13),u=t.n(o),l=t(3),c=t(2),i=t.n(c),m=function(e){var n=e.person,t=e.deletePerson;return r.a.createElement("div",null,n.name," ",n.number,r.a.createElement("button",{onClick:t},"delete"))},s=function(){return i.a.get("/api/persons").then(function(e){return e.data})},d=function(e){return i.a.post("/api/persons",e).then(function(e){return e.data})},h=function(e){var n=e.newNumber,t=e.handleNumberChange;return r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:n,onChange:t}))},f=function(e){var n=e.newPerson,t=e.handlePersonChange;return r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:n,onChange:t}))},b=function(e){var n=e.addPerson,t=e.newPerson,a=e.handlePersonChange,o=e.newNumber,u=e.handleNumberChange;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:n},r.a.createElement(f,{newPerson:t,handlePersonChange:a}),r.a.createElement(h,{newNumber:o,handleNumberChange:u}),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add"))))},p=function(e){var n=Object(a.useState)([]),t=Object(l.a)(n,2),o=t[0],u=t[1],c=Object(a.useState)(""),h=Object(l.a)(c,2),f=h[0],p=h[1],g=Object(a.useState)(""),v=Object(l.a)(g,2),E=v[0],w=v[1];Object(a.useEffect)(function(){s().then(function(e){u(e)})},[]);return r.a.createElement("div",null,r.a.createElement("h1",null,"Phonebook"),r.a.createElement(b,{addPerson:function(e){e.preventDefault();var n=o.filter(function(e){return e.name===f});if(console.log(n),0===n.length){var t={name:f,number:E,id:o.length+1};console.log(t),""===f||""===E?alert("content is missing"):(d(t).then(function(e){u(o.concat(e)),p("")}).catch(function(e){alert("Name must be at least 3 characters long and number 8")}),p(""),w(""))}else alert("".concat(f," is already added to the phonebook"))},newPerson:f,handlePersonChange:function(e){p(e.target.value)},newNumber:E,handleNumberChange:function(e){w(e.target.value)}}),r.a.createElement("h1",null,"Numbers"),r.a.createElement("div",null,o.map(function(e){return r.a.createElement(m,{key:e.id,person:e,deletePerson:function(){return function(e){var n="http://localhost:3001/api/persons/".concat(e),t=o.find(function(n){return n.id===e}),a=o.filter(function(e){return e!==t});console.log(a),window.confirm("Delete ".concat(t.name,"?"))&&i.a.delete(n,a).then(function(e){u(a)})}(e.id)}})})))};u.a.render(r.a.createElement(p,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.9a7f7285.chunk.js.map