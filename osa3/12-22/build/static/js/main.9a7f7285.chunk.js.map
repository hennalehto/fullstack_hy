{"version":3,"sources":["components/Person.js","services/persons.js","App.js","index.js"],"names":["Person","_ref","person","deletePerson","react_default","a","createElement","name","number","onClick","services_persons","axios","get","then","response","data","newObject","post","AddNumber","newNumber","handleNumberChange","value","onChange","AddName","_ref2","newPerson","handlePersonChange","PersonForm","_ref3","addPerson","onSubmit","App_AddName","App_AddNumber","type","App","props","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","setNewPerson","_useState5","_useState6","setNewNumber","useEffect","personService","initialPersons","App_PersonForm","event","preventDefault","duplicates","filter","console","log","length","personObject","id","alert","returnedPerson","concat","catch","error","target","map","components_Person","key","url","find","n","testi","i","window","confirm","delete","deleteThisPerson","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.9a7f7285.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({ person, deletePerson }) => {\n  \treturn (\n  \t\t<div>\n  \t\t\t{person.name} {person.number}\n  \t\t\t<button onClick={deletePerson}>delete</button>\n  \t\t</div>\n  \t)\n}\n\nexport default Person","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update }","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Person from './components/Person'\nimport personService from './services/persons'\n\nconst AddNumber = ( { newNumber, handleNumberChange} ) => {\n  return (\n    <div>\n      number: <input \n        value={newNumber}\n        onChange={handleNumberChange}\n      />\n    </div>\n  )\n}\n\nconst AddName = ( { newPerson, handlePersonChange } ) => {\n  return (\n    <div>\n      name: <input\n        value={newPerson}\n        onChange={handlePersonChange}\n      />\n    </div>\n  )\n}\n\nconst PersonForm = ({ addPerson, newPerson, handlePersonChange, newNumber, handleNumberChange}) => {\n  return (\n    <div>\n      <form onSubmit={addPerson}>\n        <AddName newPerson={newPerson} handlePersonChange={handlePersonChange} />\n        <AddNumber newNumber={newNumber} handleNumberChange={handleNumberChange} />\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n          </form>\n        </div>\n  )\n}\n\nconst App = (props) => {\n  const [persons, setPersons] = useState([])\n  const [newPerson, setNewPerson] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n\n  useEffect(() => {\n    personService\n      .getAll()\n        .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const deleteThisPerson = id => {\n    const url = `http://localhost:3001/api/persons/${id}`\n    const person = persons.find(n => n.id === id)\n    const testi = persons.filter(function(i) {\n          return i !== person\n      })\n    console.log(testi)\n\n    const result = window.confirm(`Delete ${person.name}?`)\n    if (result) {\n    \taxios.delete(url, testi).then(response => {\n    \t\tsetPersons(testi)\n    \t})\n    }\n  }\n\n  const rows = () => persons.map(person =>\n    <Person\n      key={person.id}\n      person={person}\n      deletePerson={() => deleteThisPerson(person.id)}\n    />\n  )\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const duplicates = persons.filter(function(person) {\n      return person.name === newPerson\n    })\n    console.log(duplicates)\n\n    if (duplicates.length === 0) {\n      const personObject = {\n        name: newPerson,\n        number: newNumber,\n        id: persons.length + 1\n      }\n      console.log(personObject)\n      if (newPerson === '' || newNumber === '') {\n        alert(`content is missing`)\n      }\n      else {\n        personService\n          .create(personObject)\n          .then(returnedPerson => {\n            setPersons(persons.concat(returnedPerson))\n            setNewPerson('')\n          })\n          .catch(error => {\n            alert('Name must be at least 3 characters long and number 8')\n          })\n\n        \n\n        setNewPerson('')\n        setNewNumber('')\n      }\n    }\n    else {\n      alert(`${newPerson} is already added to the phonebook`)\n    }\n  }\n\n  const handlePersonChange = (event) => {\n    setNewPerson(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n\n      <PersonForm addPerson={addPerson} newPerson={newPerson} handlePersonChange={handlePersonChange} newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      \n      <h1>Numbers</h1>\n\n      <div>\n        {rows()}\n      </div>\n      \n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}